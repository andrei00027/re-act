# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Apple Health –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

## –û–±–∑–æ—Ä

Re:Act –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å Apple Health (HealthKit) –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–∏–≤—ã—á–µ–∫ –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö –∑–¥–æ—Ä–æ–≤—å—è.

## –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –º–µ—Ç—Ä–∏–∫–∏

### 1. –®–∞–≥–∏ (Steps) üë£
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞–≥–æ–≤ –∑–∞ –¥–µ–Ω—å
- **–¶–µ–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**: 10,000 —à–∞–≥–æ–≤
- **–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**: –ü—Ä–∏–≤—ã—á–∫–∞ "–ü—Ä–æ–π—Ç–∏ 10,000 —à–∞–≥–æ–≤"

### 2. –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ (Workout) üí™
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ù–∞–ª–∏—á–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –∑–∞ –¥–µ–Ω—å
- **–¶–µ–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ**: 1 —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞
- **–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**: –ü—Ä–∏–≤—ã—á–∫–∞ "–ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞"

### 3. –°–æ–Ω (Sleep) üò¥
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∏–Ω—É—Ç —Å–Ω–∞ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–æ—á—å
- **–¶–µ–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**: 480 –º–∏–Ω—É—Ç (8 —á–∞—Å–æ–≤)
- **–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**: –ü—Ä–∏–≤—ã—á–∫–∞ "–°–ø–∞—Ç—å 8 —á–∞—Å–æ–≤"

### 4. –ö–∞–ª–æ—Ä–∏–∏ (Active Energy) üî•
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –°–æ–∂–∂–µ–Ω–Ω—ã–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–∞–ª–æ—Ä–∏–∏ –∑–∞ –¥–µ–Ω—å
- **–¶–µ–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**: 500 –∫–∫–∞–ª
- **–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**: –ü—Ä–∏–≤—ã—á–∫–∞ "–°–∂–µ—á—å 500 –∫–∞–ª–æ—Ä–∏–π"

### 5. –î–∏—Å—Ç–∞–Ω—Ü–∏—è (Distance) üèÉ
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –î–∏—Å—Ç–∞–Ω—Ü–∏—è —Ö–æ–¥—å–±—ã/–±–µ–≥–∞ –≤ –∫–∏–ª–æ–º–µ—Ç—Ä–∞—Ö
- **–¶–µ–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**: 5 –∫–º
- **–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**: –ü—Ä–∏–≤—ã—á–∫–∞ "–ü—Ä–æ–±–µ–∂–∞—Ç—å 5 –∫–º"

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–≤—ã—á–∫–∏ —Å Apple Health

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–π –ø—Ä–∏–≤—ã—á–∫–∏:

```javascript
{
  name: "–ü—Ä–æ–π—Ç–∏ 10,000 —à–∞–≥–æ–≤",
  icon: "üë£",
  type: "counter",
  healthKitEnabled: true,  // –í–∫–ª—é—á–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å Apple Health
  healthKitMetric: "steps", // –¢–∏–ø –º–µ—Ç—Ä–∏–∫–∏
  targetValue: 10000,       // –¶–µ–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
  unit: "—à–∞–≥–æ–≤"
}
```

### 2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ —Ü–µ–ª–µ–π:
- –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è HealthKit)
- –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏ "Apple Health" ‚Üí "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ —Ü–µ–ª–µ–π" –≤ –ø—Ä–æ—Ñ–∏–ª–µ

### 3. –†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤—Ä—É—á–Ω—É—é –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É:
1. –û—Ç–∫—Ä—ã—Ç—å —ç–∫—Ä–∞–Ω "–ü—Ä–æ—Ñ–∏–ª—å"
2. –ù–∞–∂–∞—Ç—å "Apple Health"
3. –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä–∏—Ç –≤—Å–µ –ø—Ä–∏–≤—ã—á–∫–∏ —Å –≤–∫–ª—é—á–µ–Ω–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π
4. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–º–µ—Ç–∏—Ç —Ç–µ, —É –∫–æ—Ç–æ—Ä—ã—Ö —Ü–µ–ª—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞

## –†–∞–∑—Ä–µ—à–µ–Ω–∏—è

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è:

```
–ß—Ç–µ–Ω–∏–µ:
- Steps (–®–∞–≥–∏)
- DistanceWalkingRunning (–î–∏—Å—Ç–∞–Ω—Ü–∏—è)
- ActiveEnergyBurned (–ê–∫—Ç–∏–≤–Ω—ã–µ –∫–∞–ª–æ—Ä–∏–∏)
- SleepAnalysis (–ê–Ω–∞–ª–∏–∑ —Å–Ω–∞)
- Workout (–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏)

–ó–∞–ø–∏—Å—å:
- –ü–æ–∫–∞ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è
```

–†–∞–∑—Ä–µ—à–µ–Ω–∏—è –∑–∞–ø—Ä–∞—à–∏–≤–∞—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤ app.json

```json
{
  "ios": {
    "infoPlist": {
      "NSHealthShareUsageDescription": "Re:Act –Ω—É–∂–µ–Ω –¥–æ—Å—Ç—É–ø –∫ –≤–∞—à–∏–º –¥–∞–Ω–Ω—ã–º –∑–¥–æ—Ä–æ–≤—å—è, —á—Ç–æ–±—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–º–µ—á–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–∏–≤—ã—á–µ–∫ (—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏, —à–∞–≥–∏, —Å–æ–Ω).",
      "NSHealthUpdateUsageDescription": "Re:Act –Ω—É–∂–µ–Ω –¥–æ—Å—Ç—É–ø –¥–ª—è –∑–∞–ø–∏—Å–∏ –¥–∞–Ω–Ω—ã—Ö –æ –≤–∞—à–∏—Ö –ø—Ä–∏–≤—ã—á–∫–∞—Ö –≤ Apple Health."
    }
  }
}
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### AppleHealthService

–°–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å HealthKit:

```javascript
// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
await AppleHealthService.initialize();

// –ü–æ–ª—É—á–∏—Ç—å —à–∞–≥–∏ –∑–∞ —Å–µ–≥–æ–¥–Ω—è
const steps = await AppleHealthService.getStepsToday();

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ —Ü–µ–ª–∏
const { achieved, currentValue } = await AppleHealthService.checkGoalAchievement(
  'steps',
  10000
);

// –ü–æ–ª—É—á–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –º–µ—Ç—Ä–∏–∫–∏
const metrics = AppleHealthService.getSupportedMetrics();
```

### HabitsContext –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

```javascript
// –í HabitsContext
const checkHealthKitGoals = async () => {
  for (const habit of habits) {
    if (habit.healthKitEnabled && habit.healthKitMetric) {
      const { achieved } = await AppleHealthService.checkGoalAchievement(
        habit.healthKitMetric,
        habit.targetValue
      );

      if (achieved) {
        completeHabit(habit.id);
      }
    }
  }
};
```

## –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### ‚ùó –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ iOS
Apple Health –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –Ω–∞ iPhone. –ù–∞ Android –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Google Fit.

### ‚ùó –¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–µ–∞–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
HealthKit –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Å–∏–º—É–ª—è—Ç–æ—Ä–µ. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º iPhone.

### ‚ùó –¢—Ä–µ–±—É–µ—Ç—Å—è —Å–±–æ—Ä–∫–∞ —á–µ—Ä–µ–∑ EAS
–î–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã HealthKit –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞ —Å–±–æ—Ä–∫–∞ —á–µ—Ä–µ–∑ EAS Build —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ entitlements:

```bash
eas build --profile development --platform ios
```

### ‚ùó –†–∞–∑—Ä–µ—à–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö:
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å ‚Üí –ó–¥–æ—Ä–æ–≤—å–µ ‚Üí Re:Act

## –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### –ë—É–¥—É—â–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

1. **–ó–∞–ø–∏—Å—å –¥–∞–Ω–Ω—ã—Ö –≤ Health**
   - –ó–∞–ø–∏—Å—ã–≤–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–∏–≤—ã—á–µ–∫ –∫–∞–∫ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
   - –¢—Ä–µ–∫–∏–Ω–≥ –º–µ–¥–∏—Ç–∞—Ü–∏–∏, –≤–æ–¥—ã –∏ —Ç.–¥.

2. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏**
   - Heart Rate (–ü—É–ª—å—Å)
   - Mindful Minutes (–ú–∏–Ω—É—Ç—ã –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ—Å—Ç–∏)
   - Water Intake (–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –≤–æ–¥—ã)
   - Stand Hours (–ß–∞—Å—ã —Å—Ç–æ—è–Ω–∏—è)

3. **–£–º–Ω–∞—è –ª–æ–≥–∏–∫–∞**
   - –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Ü–µ–ª–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Å—Ç–æ—Ä–∏–∏
   - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
   - –ö–æ—Ä—Ä–µ–ª—è—Ü–∏—è –ø—Ä–∏–≤—ã—á–µ–∫ —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∑–¥–æ—Ä–æ–≤—å—è

4. **Health+ Features**
   - Sharing achievements
   - Health trends analysis
   - Fitness+ workout integration

## –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
```javascript
const available = await AppleHealthService.checkAvailability();
console.log('HealthKit available:', available);
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
```javascript
const initialized = await AppleHealthService.initialize();
console.log('HealthKit initialized:', initialized);
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å:
```
‚úÖ Apple Health initialized successfully
‚úÖ HealthKit available: true
‚ö†Ô∏è Apple Health not available: Not supported on this platform
‚ùå Error getting steps: [error details]
```

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Apple HealthKit Documentation](https://developer.apple.com/documentation/healthkit)
- [react-native-health](https://github.com/agencyenterprise/react-native-health)
- [HealthKit Sample Types](https://developer.apple.com/documentation/healthkit/data_types)
- [HealthKit Authorization](https://developer.apple.com/documentation/healthkit/authorizing_access_to_health_data)

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–≤—ã—á–∫–∏ "10,000 —à–∞–≥–æ–≤"

```javascript
await addHabit({
  name: '10,000 —à–∞–≥–æ–≤',
  icon: 'üë£',
  type: 'counter',
  healthKitEnabled: true,
  healthKitMetric: 'steps',
  targetValue: 10000,
  unit: '—à–∞–≥–æ–≤'
});
```

### –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–≤—ã—á–∫–∏ "–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞"

```javascript
await addHabit({
  name: '–ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞',
  icon: 'üí™',
  type: 'binary',
  healthKitEnabled: true,
  healthKitMetric: 'workout',
  targetValue: 1
});
```

### –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–≤—ã—á–∫–∏ "8 —á–∞—Å–æ–≤ —Å–Ω–∞"

```javascript
await addHabit({
  name: '8 —á–∞—Å–æ–≤ —Å–Ω–∞',
  icon: 'üò¥',
  type: 'counter',
  healthKitEnabled: true,
  healthKitMetric: 'sleep',
  targetValue: 480, // –º–∏–Ω—É—Ç—ã
  unit: '–º–∏–Ω—É—Ç'
});
```
