# Re:Act - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ø–∞–ø–æ–∫ –∏ —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞.

---

## üìÅ –û–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π

```
Re:Act/
‚îú‚îÄ‚îÄ src/                        # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ components/             # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ screens/                # –≠–∫—Ä–∞–Ω—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ navigation/             # –ù–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ context/                # React Context –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ hooks/                  # –ö–∞—Å—Ç–æ–º–Ω—ã–µ React hooks
‚îÇ   ‚îú‚îÄ‚îÄ services/               # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏ –≤–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ utils/                  # –£—Ç–∏–ª–∏—Ç—ã –∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ constants/              # –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã (—Ü–≤–µ—Ç–∞, —Å—Ç–∏–ª–∏, –∫–æ–Ω—Ñ–∏–≥–∏)
‚îÇ   ‚îú‚îÄ‚îÄ types/                  # TypeScript —Ç–∏–ø—ã (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
‚îÇ   ‚îî‚îÄ‚îÄ assets/                 # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, —à—Ä–∏—Ñ—Ç—ã)
‚îú‚îÄ‚îÄ ios/                        # iOS –Ω–∞—Ç–∏–≤–Ω—ã–π –∫–æ–¥ (–ø–æ—Å–ª–µ expo prebuild)
‚îú‚îÄ‚îÄ android/                    # Android –Ω–∞—Ç–∏–≤–Ω—ã–π –∫–æ–¥ (–ø–æ—Å–ª–µ expo prebuild)
‚îú‚îÄ‚îÄ App.js                      # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ app.json                    # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Expo
‚îú‚îÄ‚îÄ babel.config.js             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Babel
‚îú‚îÄ‚îÄ package.json                # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ .gitignore                  # Git –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ —Ñ–∞–π–ª—ã
‚îî‚îÄ‚îÄ README.md                   # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
```

---

## üóÇÔ∏è –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `/src`

### 1. `/src/components` - UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

```
components/
‚îú‚îÄ‚îÄ common/                     # –ë–∞–∑–æ–≤—ã–µ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ Button.js              # –ö–∞—Å—Ç–æ–º–Ω–∞—è –∫–Ω–æ–ø–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ Card.js                # –ö–∞—Ä—Ç–æ—á–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ Input.js               # –ü–æ–ª–µ –≤–≤–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ Modal.js               # –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
‚îÇ   ‚îú‚îÄ‚îÄ Loading.js             # –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ Badge.js               # –ë–µ–π–¥–∂ (–º–µ—Ç–∫–∞)
‚îÇ   ‚îî‚îÄ‚îÄ Icon.js                # –û–±–µ—Ä—Ç–∫–∞ –¥–ª—è –∏–∫–æ–Ω–æ–∫
‚îÇ
‚îú‚îÄ‚îÄ habits/                     # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –ø—Ä–∏–≤—ã—á–µ–∫
‚îÇ   ‚îú‚îÄ‚îÄ HabitCard.js           # –ö–∞—Ä—Ç–æ—á–∫–∞ –ø—Ä–∏–≤—ã—á–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ HabitList.js           # –°–ø–∏—Å–æ–∫ –ø—Ä–∏–≤—ã—á–µ–∫
‚îÇ   ‚îú‚îÄ‚îÄ HabitForm.js           # –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ HabitCounter.js        # –°—á–µ—Ç—á–∏–∫ –¥–ª—è –ø—Ä–∏–≤—ã—á–µ–∫ —Å —á–∏—Å–ª–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ HabitCheckbox.js       # –ß–µ–∫–±–æ–∫—Å –¥–ª—è –±–∏–Ω–∞—Ä–Ω—ã—Ö –ø—Ä–∏–≤—ã—á–µ–∫
‚îÇ   ‚îú‚îÄ‚îÄ StreakDisplay.js       # –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ streak
‚îÇ   ‚îî‚îÄ‚îÄ FrequencyPicker.js     # –í—ã–±–æ—Ä —á–∞—Å—Ç–æ—Ç—ã –ø—Ä–∏–≤—ã—á–∫–∏
‚îÇ
‚îú‚îÄ‚îÄ stats/                      # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ Calendar.js            # –ö–∞–ª–µ–Ω–¥–∞—Ä—å —Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º
‚îÇ   ‚îú‚îÄ‚îÄ TimeChart.js           # –ì—Ä–∞—Ñ–∏–∫ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ StreakChart.js         # –ì—Ä–∞—Ñ–∏–∫ streaks
‚îÇ   ‚îú‚îÄ‚îÄ ProgressRing.js        # –ö—Ä—É–≥–æ–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å
‚îÇ   ‚îî‚îÄ‚îÄ StatsCard.js           # –ö–∞—Ä—Ç–æ—á–∫–∞ —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π
‚îÇ
‚îî‚îÄ‚îÄ social/                     # –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
    ‚îú‚îÄ‚îÄ FriendCard.js          # –ö–∞—Ä—Ç–æ—á–∫–∞ –¥—Ä—É–≥–∞
    ‚îú‚îÄ‚îÄ FriendList.js          # –°–ø–∏—Å–æ–∫ –¥—Ä—É–∑–µ–π
    ‚îú‚îÄ‚îÄ ChallengeCard.js       # –ö–∞—Ä—Ç–æ—á–∫–∞ —á–µ–ª–ª–µ–Ω–¥–∂–∞
    ‚îú‚îÄ‚îÄ ChallengeList.js       # –°–ø–∏—Å–æ–∫ —á–µ–ª–ª–µ–Ω–¥–∂–µ–π
    ‚îî‚îÄ‚îÄ Leaderboard.js         # –õ–∏–¥–µ—Ä–±–æ—Ä–¥
```

**–°–æ–≥–ª–∞—à–µ–Ω–∏—è –ø–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º:**
- –ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ñ–∞–π–ª–µ
- PascalCase –¥–ª—è –Ω–∞–∑–≤–∞–Ω–∏–π —Ñ–∞–π–ª–æ–≤
- –ò—Å–ø–æ–ª—å–∑—É–µ–º functional components —Å hooks
- Props validation —á–µ—Ä–µ–∑ PropTypes –∏–ª–∏ TypeScript
- Styled components –∏–ª–∏ StyleSheet –¥–ª—è —Å—Ç–∏–ª–µ–π

**–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:**

```javascript
// src/components/habits/HabitCard.js
import React from 'react';
import { View, Text, StyleSheet, TouchableOpacity } from 'react-native';
import { Colors } from '../../constants';

export const HabitCard = ({ habit, onPress, onComplete }) => {
  return (
    <TouchableOpacity style={styles.card} onPress={onPress}>
      <View style={styles.content}>
        <Text style={styles.title}>{habit.name}</Text>
        <Text style={styles.streak}>{habit.currentStreak} days üî•</Text>
      </View>
      <TouchableOpacity 
        style={styles.checkbox} 
        onPress={() => onComplete(habit.id)}
      >
        {habit.completedToday && <Icon name="check" />}
      </TouchableOpacity>
    </TouchableOpacity>
  );
};

const styles = StyleSheet.create({
  card: {
    flexDirection: 'row',
    padding: 16,
    backgroundColor: Colors.surface,
    borderRadius: 12,
    marginBottom: 12,
  },
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏
});
```

---

### 2. `/src/screens` - –≠–∫—Ä–∞–Ω—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```
screens/
‚îú‚îÄ‚îÄ HomeScreen.js              # –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω —Å–æ —Å–ø–∏—Å–∫–æ–º –ø—Ä–∏–≤—ã—á–µ–∫
‚îú‚îÄ‚îÄ StatsScreen.js             # –≠–∫—Ä–∞–Ω —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
‚îú‚îÄ‚îÄ CalendarScreen.js          # –≠–∫—Ä–∞–Ω –∫–∞–ª–µ–Ω–¥–∞—Ä—è
‚îú‚îÄ‚îÄ SocialScreen.js            # –≠–∫—Ä–∞–Ω —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
‚îú‚îÄ‚îÄ ProfileScreen.js           # –≠–∫—Ä–∞–Ω –ø—Ä–æ—Ñ–∏–ª—è
‚îú‚îÄ‚îÄ HabitDetailScreen.js       # –î–µ—Ç–∞–ª–∏ –ø—Ä–∏–≤—ã—á–∫–∏
‚îú‚îÄ‚îÄ CreateHabitScreen.js       # –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –ø—Ä–∏–≤—ã—á–∫–∏
‚îú‚îÄ‚îÄ EditHabitScreen.js         # –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–≤—ã—á–∫–∏
‚îú‚îÄ‚îÄ FriendsScreen.js           # –°–ø–∏—Å–æ–∫ –¥—Ä—É–∑–µ–π
‚îú‚îÄ‚îÄ ChallengesScreen.js        # –°–ø–∏—Å–æ–∫ —á–µ–ª–ª–µ–Ω–¥–∂–µ–π
‚îú‚îÄ‚îÄ SettingsScreen.js          # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îî‚îÄ‚îÄ OnboardingScreen.js        # –û–Ω–±–æ—Ä–¥–∏–Ω–≥ –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
```

**–û—Å–Ω–æ–≤–Ω—ã–µ —ç–∫—Ä–∞–Ω—ã MVP:**

#### **HomeScreen** (–ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω)
- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–∏–≤—ã—á–µ–∫ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è
- –ü—Ä–æ–≥—Ä–µ—Å—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (3/6 –ø—Ä–∏–≤—ã—á–µ–∫)
- –ë—ã—Å—Ç—Ä–∞—è –æ—Ç–º–µ—Ç–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –ö–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–π –ø—Ä–∏–≤—ã—á–∫–∏
- –ù–∞–≤–∏–≥–∞—Ü–∏—è –≤ –¥—Ä—É–≥–∏–µ —Ä–∞–∑–¥–µ–ª—ã

#### **StatsScreen** (–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞)
- –û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ –≤—Å–µ–º –ø—Ä–∏–≤—ã—á–∫–∞–º
- –ì—Ä–∞—Ñ–∏–∫–∏ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
- –õ—É—á—à–∏–µ streaks
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

#### **CalendarScreen** (–ö–∞–ª–µ–Ω–¥–∞—Ä—å)
- –ö–∞–ª–µ–Ω–¥–∞—Ä—å —Å –æ—Ç–º–µ—Ç–∫–∞–º–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è/–Ω–µ–≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –¶–≤–µ—Ç–æ–≤–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞
- –í—ã–±–æ—Ä –º–µ—Å—è—Ü–∞/–≥–æ–¥–∞
- –î–µ—Ç–∞–ª–∏ –ø–æ –¥–Ω—é –ø—Ä–∏ –∫–ª–∏–∫–µ

#### **SocialScreen** (–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ)
- –í–∫–ª–∞–¥–∫–∏: –î—Ä—É–∑—å—è / –ß–µ–ª–ª–µ–Ω–¥–∂–∏
- –°–ø–∏—Å–æ–∫ –¥—Ä—É–∑–µ–π —Å –∏—Ö –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º
- –ê–∫—Ç–∏–≤–Ω—ã–µ —á–µ–ª–ª–µ–Ω–¥–∂–∏
- –õ–∏–¥–µ—Ä–±–æ—Ä–¥

#### **ProfileScreen** (–ü—Ä–æ—Ñ–∏–ª—å)
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏
- –û –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
- –í—ã—Ö–æ–¥

---

### 3. `/src/navigation` - –ù–∞–≤–∏–≥–∞—Ü–∏—è

```
navigation/
‚îú‚îÄ‚îÄ AppNavigator.js            # –ö–æ—Ä–Ω–µ–≤–æ–π –Ω–∞–≤–∏–≥–∞—Ç–æ—Ä
‚îú‚îÄ‚îÄ TabNavigator.js            # Bottom Tab –Ω–∞–≤–∏–≥–∞—Ü–∏—è
‚îú‚îÄ‚îÄ StackNavigator.js          # Stack –Ω–∞–≤–∏–≥–∞—Ü–∏—è –¥–ª—è –º–æ–¥–∞–ª–æ–≤
‚îî‚îÄ‚îÄ navigationTypes.js         # –¢–∏–ø—ã –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ (–µ—Å–ª–∏ TS)
```

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏:**

```
App
‚îî‚îÄ‚îÄ AppNavigator (Stack)
    ‚îú‚îÄ‚îÄ AuthScreen (–µ—Å–ª–∏ –Ω–µ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω)
    ‚îî‚îÄ‚îÄ MainNavigator (Tab)
        ‚îú‚îÄ‚îÄ HomeTab (Stack)
        ‚îÇ   ‚îú‚îÄ‚îÄ HomeScreen
        ‚îÇ   ‚îú‚îÄ‚îÄ HabitDetailScreen
        ‚îÇ   ‚îú‚îÄ‚îÄ CreateHabitScreen
        ‚îÇ   ‚îî‚îÄ‚îÄ EditHabitScreen
        ‚îú‚îÄ‚îÄ StatsTab
        ‚îÇ   ‚îî‚îÄ‚îÄ StatsScreen
        ‚îú‚îÄ‚îÄ CalendarTab
        ‚îÇ   ‚îî‚îÄ‚îÄ CalendarScreen
        ‚îú‚îÄ‚îÄ SocialTab (Stack)
        ‚îÇ   ‚îú‚îÄ‚îÄ SocialScreen
        ‚îÇ   ‚îú‚îÄ‚îÄ FriendsScreen
        ‚îÇ   ‚îî‚îÄ‚îÄ ChallengesScreen
        ‚îî‚îÄ‚îÄ ProfileTab (Stack)
            ‚îú‚îÄ‚îÄ ProfileScreen
            ‚îî‚îÄ‚îÄ SettingsScreen
```

**–ü—Ä–∏–º–µ—Ä AppNavigator:**

```javascript
// src/navigation/AppNavigator.js
import React from 'react';
import { NavigationContainer } from '@react-navigation/native';
import { createStackNavigator } from '@react-navigation/stack';
import { useAuth } from '../context/AuthContext';
import { TabNavigator } from './TabNavigator';
import { AuthScreen } from '../screens/AuthScreen';

const Stack = createStackNavigator();

export const AppNavigator = () => {
  const { user } = useAuth();

  return (
    <NavigationContainer>
      <Stack.Navigator screenOptions={{ headerShown: false }}>
        {user ? (
          <Stack.Screen name="Main" component={TabNavigator} />
        ) : (
          <Stack.Screen name="Auth" component={AuthScreen} />
        )}
      </Stack.Navigator>
    </NavigationContainer>
  );
};
```

---

### 4. `/src/context` - –ì–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

```
context/
‚îú‚îÄ‚îÄ AuthContext.js             # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îú‚îÄ‚îÄ HabitsContext.js           # –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–≤—ã—á–µ–∫
‚îú‚îÄ‚îÄ ThemeContext.js            # –¢–µ–º–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–¥–ª—è v2)
‚îî‚îÄ‚îÄ NotificationContext.js     # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏
```

**–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã:**

#### **AuthContext**
```javascript
// src/context/AuthContext.js
import React, { createContext, useState, useContext, useEffect } from 'react';
import * as AppleAuthentication from 'expo-apple-authentication';

const AuthContext = createContext();

export const AuthProvider = ({ children }) => {
  const [user, setUser] = useState(null);
  const [loading, setLoading] = useState(true);

  const signInWithApple = async () => {
    // –õ–æ–≥–∏–∫–∞ –≤—Ö–æ–¥–∞ —á–µ—Ä–µ–∑ Apple ID
  };

  const signOut = async () => {
    // –õ–æ–≥–∏–∫–∞ –≤—ã—Ö–æ–¥–∞
  };

  return (
    <AuthContext.Provider value={{ user, loading, signInWithApple, signOut }}>
      {children}
    </AuthContext.Provider>
  );
};

export const useAuth = () => useContext(AuthContext);
```

#### **HabitsContext**
```javascript
// src/context/HabitsContext.js
import React, { createContext, useState, useContext } from 'react';

const HabitsContext = createContext();

export const HabitsProvider = ({ children }) => {
  const [habits, setHabits] = useState([]);

  const addHabit = (habit) => {
    setHabits([...habits, { ...habit, id: Date.now() }]);
  };

  const updateHabit = (id, updates) => {
    setHabits(habits.map(h => h.id === id ? { ...h, ...updates } : h));
  };

  const deleteHabit = (id) => {
    setHabits(habits.filter(h => h.id !== id));
  };

  const completeHabit = (id) => {
    // –õ–æ–≥–∏–∫–∞ –æ—Ç–º–µ—Ç–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
  };

  return (
    <HabitsContext.Provider 
      value={{ habits, addHabit, updateHabit, deleteHabit, completeHabit }}
    >
      {children}
    </HabitsContext.Provider>
  );
};

export const useHabits = () => useContext(HabitsContext);
```

---

### 5. `/src/hooks` - –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ö—É–∫–∏

```
hooks/
‚îú‚îÄ‚îÄ useHabits.js               # –•—É–∫ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–∏–≤—ã—á–∫–∞–º–∏
‚îú‚îÄ‚îÄ useStats.js                # –•—É–∫ –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
‚îú‚îÄ‚îÄ useNotifications.js        # –•—É–∫ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
‚îú‚îÄ‚îÄ useHealthKit.js            # –•—É–∫ –¥–ª—è Apple Health
‚îî‚îÄ‚îÄ useStorage.js              # –•—É–∫ –¥–ª—è AsyncStorage
```

**–ü—Ä–∏–º–µ—Ä—ã —Ö—É–∫–æ–≤:**

```javascript
// src/hooks/useStats.js
import { useMemo } from 'react';
import { useHabits } from '../context/HabitsContext';

export const useStats = () => {
  const { habits } = useHabits();

  const totalHabits = habits.length;
  
  const completedToday = useMemo(() => {
    return habits.filter(h => h.completedToday).length;
  }, [habits]);

  const averageStreak = useMemo(() => {
    if (habits.length === 0) return 0;
    return habits.reduce((sum, h) => sum + h.currentStreak, 0) / habits.length;
  }, [habits]);

  return { totalHabits, completedToday, averageStreak };
};
```

---

### 6. `/src/services` - –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

```
services/
‚îú‚îÄ‚îÄ storage/
‚îÇ   ‚îú‚îÄ‚îÄ AsyncStorageService.js    # –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
‚îÇ   ‚îî‚îÄ‚îÄ CloudStorageService.js    # iCloud —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îú‚îÄ‚îÄ AuthAPI.js                # API –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ SocialAPI.js              # API —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
‚îú‚îÄ‚îÄ notifications/
‚îÇ   ‚îî‚îÄ‚îÄ NotificationService.js    # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏
‚îî‚îÄ‚îÄ health/
    ‚îú‚îÄ‚îÄ AppleHealthService.js     # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Apple Health
    ‚îî‚îÄ‚îÄ GoogleFitService.js       # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Google Fit
```

**–ü—Ä–∏–º–µ—Ä —Å–µ—Ä–≤–∏—Å–∞:**

```javascript
// src/services/storage/AsyncStorageService.js
import AsyncStorage from '@react-native-async-storage/async-storage';

const HABITS_KEY = '@Re:Act:habits';

export const AsyncStorageService = {
  async saveHabits(habits) {
    try {
      await AsyncStorage.setItem(HABITS_KEY, JSON.stringify(habits));
    } catch (error) {
      console.error('Error saving habits:', error);
    }
  },

  async loadHabits() {
    try {
      const data = await AsyncStorage.getItem(HABITS_KEY);
      return data ? JSON.parse(data) : [];
    } catch (error) {
      console.error('Error loading habits:', error);
      return [];
    }
  },

  async clearAll() {
    try {
      await AsyncStorage.clear();
    } catch (error) {
      console.error('Error clearing storage:', error);
    }
  }
};
```

---

### 7. `/src/utils` - –£—Ç–∏–ª–∏—Ç—ã

```
utils/
‚îú‚îÄ‚îÄ dateHelpers.js             # –§—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å –¥–∞—Ç–∞–º–∏
‚îú‚îÄ‚îÄ streakCalculator.js        # –†–∞—Å—á–µ—Ç streaks
‚îú‚îÄ‚îÄ validators.js              # –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ formatters.js              # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞/—á–∏—Å–µ–ª
‚îî‚îÄ‚îÄ constants.js               # –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã
```

**–ü—Ä–∏–º–µ—Ä—ã —É—Ç–∏–ª–∏—Ç:**

```javascript
// src/utils/streakCalculator.js
export const calculateStreak = (completionHistory) => {
  let currentStreak = 0;
  let bestStreak = 0;
  let tempStreak = 0;

  const today = new Date().toDateString();
  const sortedDates = Object.keys(completionHistory).sort().reverse();

  for (const date of sortedDates) {
    if (completionHistory[date]) {
      tempStreak++;
      bestStreak = Math.max(bestStreak, tempStreak);
      
      if (date === today || isYesterday(date)) {
        currentStreak = tempStreak;
      }
    } else {
      tempStreak = 0;
    }
  }

  return { currentStreak, bestStreak };
};

// src/utils/dateHelpers.js
export const isToday = (date) => {
  const today = new Date();
  return date.toDateString() === today.toDateString();
};

export const isYesterday = (dateString) => {
  const yesterday = new Date();
  yesterday.setDate(yesterday.getDate() - 1);
  return dateString === yesterday.toDateString();
};

export const formatDate = (date) => {
  return new Intl.DateTimeFormat('ru-RU', {
    day: 'numeric',
    month: 'long',
    year: 'numeric'
  }).format(date);
};
```

---

### 8. `/src/constants` - –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã

```
constants/
‚îú‚îÄ‚îÄ Colors.js                  # –¶–≤–µ—Ç–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞
‚îú‚îÄ‚îÄ Sizes.js                   # –†–∞–∑–º–µ—Ä—ã, –æ—Ç—Å—Ç—É–ø—ã
‚îú‚îÄ‚îÄ Fonts.js                   # –®—Ä–∏—Ñ—Ç—ã –∏ –∏—Ö —Ä–∞–∑–º–µ—Ä—ã
‚îî‚îÄ‚îÄ Config.js                  # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```

**–ü—Ä–∏–º–µ—Ä—ã:**

```javascript
// src/constants/Colors.js
export const Colors = {
  primary: '#3949AB',
  primaryLight: '#5E6DBF',
  primaryDark: '#2832A0',
  accent: '#26C6DA',
  success: '#66BB6A',
  error: '#EF5350',
  warning: '#FFA726',
  
  surface: '#FFFFFF',
  background: '#F5F5F5',
  
  text: '#212121',
  textSecondary: '#757575',
  textDisabled: '#BDBDBD',
  
  border: '#E0E0E0',
  divider: '#EEEEEE',
};

// src/constants/Sizes.js
export const Sizes = {
  spacing: {
    xs: 4,
    sm: 8,
    md: 16,
    lg: 24,
    xl: 32,
  },
  
  borderRadius: {
    sm: 4,
    md: 8,
    lg: 12,
    xl: 16,
  },
  
  fontSize: {
    xs: 10,
    sm: 12,
    md: 14,
    lg: 16,
    xl: 18,
    xxl: 24,
    xxxl: 32,
  }
};
```

---

## üìä –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

### Habit (–ü—Ä–∏–≤—ã—á–∫–∞)

```javascript
{
  id: string,                    // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID
  name: string,                  // –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏–≤—ã—á–∫–∏
  icon: string,                  // Emoji –∏–ª–∏ ID –∏–∫–æ–Ω–∫–∏
  type: 'binary' | 'counter',    // –¢–∏–ø: –¥–∞/–Ω–µ—Ç –∏–ª–∏ —Å—á–µ—Ç—á–∏–∫
  
  // –î–ª—è type === 'counter'
  targetValue: number,           // –¶–µ–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 8 —Å—Ç–∞–∫–∞–Ω–æ–≤)
  unit: string,                  // –ï–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è ('—Å—Ç–∞–∫–∞–Ω–æ–≤', '–∫–º', '–º–∏–Ω')
  
  // –ß–∞—Å—Ç–æ—Ç–∞
  frequency: {
    type: 'daily' | 'weekly' | 'custom',
    value: number | [days],      // –î–ª—è weekly: 3, –¥–ª—è custom: [1,3,5]
  },
  
  // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
  reminder: {
    enabled: boolean,
    time: string,                // '19:00'
    days: [0,1,2,3,4,5,6],      // –î–Ω–∏ –Ω–µ–¥–µ–ª–∏
  },
  
  // –ò—Å—Ç–æ—Ä–∏—è
  completionHistory: {
    '2025-12-12': { 
      completed: boolean,
      value: number,             // –î–ª—è —Å—á–µ—Ç—á–∏–∫–æ–≤
      timestamp: string,
    }
  },
  
  // Streaks
  currentStreak: number,
  bestStreak: number,
  
  // –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
  createdAt: string,
  updatedAt: string,
  color: string,                 // –ê–∫—Ü–µ–Ω—Ç–Ω—ã–π —Ü–≤–µ—Ç
  category: string,              // –ö–∞—Ç–µ–≥–æ—Ä–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
}
```

### User (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)

```javascript
{
  id: string,
  appleId: string,              // Apple ID —Ç–æ–∫–µ–Ω
  name: string,
  email: string,
  avatar: string,               // URL –∏–ª–∏ base64
  
  // –ù–∞—Å—Ç—Ä–æ–π–∫–∏
  settings: {
    language: 'ru' | 'en',
    notifications: boolean,
    healthKitEnabled: boolean,
    theme: 'light' | 'dark',    // –î–ª—è v2
  },
  
  // –°–æ—Ü–∏–∞–ª—å–Ω–æ–µ
  friends: [userId],
  challenges: [challengeId],
  
  createdAt: string,
  lastActive: string,
}
```

### Challenge (–ß–µ–ª–ª–µ–Ω–¥–∂)

```javascript
{
  id: string,
  name: string,
  description: string,
  habitId: string,              // –°–≤—è–∑–∞–Ω–Ω–∞—è –ø—Ä–∏–≤—ã—á–∫–∞
  
  startDate: string,
  endDate: string,
  duration: number,             // –î–Ω–µ–π
  
  participants: [{
    userId: string,
    joinedAt: string,
    progress: number,
  }],
  
  createdBy: string,            // userId —Å–æ–∑–¥–∞—Ç–µ–ª—è
  isPublic: boolean,
}
```

---

## üîÑ –ü–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–≤—ã—á–∫–∏

```
User action (CreateHabitScreen)
  ‚Üí validate input
  ‚Üí HabitsContext.addHabit()
  ‚Üí update local state
  ‚Üí AsyncStorageService.saveHabits()
  ‚Üí (optional) CloudStorageService.sync()
  ‚Üí navigate to HomeScreen
  ‚Üí show success message
```

### 2. –û—Ç–º–µ—Ç–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

```
User tap checkbox
  ‚Üí HabitsContext.completeHabit(id)
  ‚Üí calculate new streak
  ‚Üí update completionHistory
  ‚Üí AsyncStorageService.saveHabits()
  ‚Üí trigger haptic feedback
  ‚Üí update UI with animation
  ‚Üí (optional) check HealthKit for auto-completion
```

### 3. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

```
App launch / Resume
  ‚Üí check internet connection
  ‚Üí AuthContext.checkAuth()
  ‚Üí AsyncStorageService.loadHabits()
  ‚Üí CloudStorageService.sync()
    ‚Üí fetch remote data
    ‚Üí merge with local (conflict resolution)
    ‚Üí save merged data locally
  ‚Üí update UI
```

---

## üé® –°—Ç–∏–ª–∏ –∏ —Ç–µ–º–∏–∑–∞—Ü–∏—è

### –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏

```javascript
// src/constants/GlobalStyles.js
import { StyleSheet } from 'react-native';
import { Colors, Sizes } from './';

export const GlobalStyles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: Colors.background,
  },
  
  card: {
    backgroundColor: Colors.surface,
    borderRadius: Sizes.borderRadius.md,
    padding: Sizes.spacing.md,
    marginBottom: Sizes.spacing.md,
    
    // Shadow iOS
    shadowColor: '#000',
    shadowOffset: { width: 0, height: 2 },
    shadowOpacity: 0.1,
    shadowRadius: 4,
    
    // Shadow Android
    elevation: 2,
  },
  
  title: {
    fontSize: Sizes.fontSize.xxl,
    fontWeight: '700',
    color: Colors.text,
    marginBottom: Sizes.spacing.sm,
  },
  
  subtitle: {
    fontSize: Sizes.fontSize.md,
    color: Colors.textSecondary,
  },
  
  // ... –¥—Ä—É–≥–∏–µ –æ–±—â–∏–µ —Å—Ç–∏–ª–∏
});
```

---

## üìù –°–æ–≥–ª–∞—à–µ–Ω–∏—è –ø–æ –∫–æ–¥—É

### –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:** PascalCase (`HabitCard.js`)
- **–£—Ç–∏–ª–∏—Ç—ã:** camelCase (`dateHelpers.js`)
- **–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã:** PascalCase (`Colors.js`)
- **–•—É–∫–∏:** camelCase —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `use` (`useHabits.js`)

### –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:** PascalCase (`const HabitCard = ...`)
- **–§—É–Ω–∫—Ü–∏–∏:** camelCase (`const calculateStreak = ...`)
- **–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã:** SCREAMING_SNAKE_CASE (`const API_KEY = ...`)
- **–ü—Ä–∏–≤–∞—Ç–Ω—ã–µ:** –ø—Ä–µ—Ñ–∏–∫—Å `_` (`const _privateHelper = ...`)

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
```javascript
// 1. –ò–º–ø–æ—Ä—Ç—ã
import React, { useState, useEffect } from 'react';
import { View, Text, StyleSheet } from 'react-native';

// 2. –¢–∏–ø—ã/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (–µ—Å–ª–∏ TypeScript)
// interface Props { ... }

// 3. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç
export const ComponentName = ({ prop1, prop2 }) => {
  // 3.1. Hooks
  const [state, setState] = useState();
  
  // 3.2. –≠—Ñ—Ñ–µ–∫—Ç—ã
  useEffect(() => {
    // ...
  }, []);
  
  // 3.3. Handlers
  const handlePress = () => {
    // ...
  };
  
  // 3.4. Render
  return (
    <View style={styles.container}>
      <Text>{prop1}</Text>
    </View>
  );
};

// 4. –°—Ç–∏–ª–∏
const styles = StyleSheet.create({
  container: {
    // ...
  },
});

// 5. Default export (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
export default ComponentName;
```

### –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ JSDoc –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π
- –ö–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å–ª–æ–∂–Ω—É—é –ª–æ–≥–∏–∫—É
- TODO/FIXME/NOTE –¥–ª—è –∑–∞–º–µ—Ç–æ–∫

```javascript
/**
 * Calculates the current and best streak for a habit
 * @param {Object} completionHistory - Object with dates as keys
 * @returns {Object} { currentStreak, bestStreak }
 */
export const calculateStreak = (completionHistory) => {
  // TODO: Add support for flexible streaks
  // NOTE: This doesn't handle timezone differences yet
  
  // ... implementation
};
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–¥–ª—è –±—É–¥—É—â–∏—Ö –≤–µ—Ä—Å–∏–π)

```
__tests__/
‚îú‚îÄ‚îÄ components/
‚îú‚îÄ‚îÄ hooks/
‚îú‚îÄ‚îÄ utils/
‚îî‚îÄ‚îÄ services/
```

---

## üì± –ü–ª–∞—Ç—Ñ–æ—Ä–º–æ-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π –∫–æ–¥

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Platform API –¥–ª—è —Ä–∞–∑–ª–∏—á–∏–π –º–µ–∂–¥—É iOS –∏ Android:

```javascript
import { Platform } from 'react-native';

const styles = StyleSheet.create({
  container: {
    paddingTop: Platform.OS === 'ios' ? 20 : 0,
    ...Platform.select({
      ios: {
        shadowColor: '#000',
        shadowOffset: { width: 0, height: 2 },
        shadowOpacity: 0.1,
      },
      android: {
        elevation: 2,
      },
    }),
  },
});
```

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** –î–µ–∫–∞–±—Ä—å 2025
